import{c as b,_ as $,V as w,a as x,b as B,I as H}from"./CE1SOQ12.js";import{d as W,r as g,I as f,B as i,x as r,A as n,v as y,M as D,N,O,P as S,Q as m,V as U,J as A,_ as F}from"./rFTkYVi2.js";const L=W({__name:"xxx3",setup(R){const e=g([]),d=g(!1),t=g(-1),V=a=>{e.value.unshift(a)},k=a=>{const o=e.value.findIndex(l=>l===a);o!==-1&&(t.value=o,d.value=!0)},I=a=>{const l={...e.value[a]};e.value.splice(a+1,0,l)},h=(a,o)=>{const l=a+o;if(l>=0&&l<e.value.length){const s=e.value[a];e.value[a]=e.value[l],e.value[l]=s}},M=a=>{e.value.splice(a,1),t.value===a?(d.value=!1,t.value=-1):t.value>a&&t.value--},P=a=>{t.value!==-1&&(e.value[t.value]=a),d.value=!1,t.value=-1},p=a=>{const c=Math.min(window.innerWidth-80,1200),_=Math.min(window.innerHeight-80,800),C=a.height/a.width;let v=c,u=v*C;return u>_&&(u=_,v=u/C),v=Math.max(v,280),u=Math.max(u,200),{width:Math.floor(v),height:Math.floor(u)}};return(a,o)=>(r(),f(b,null,{default:i(()=>[n($,{onUpload:V}),n(w,null,{default:i(()=>[n(x,{cols:"12"},{default:i(()=>[n(w,null,{default:i(()=>[(r(!0),y(D,null,N(e.value,(l,s)=>(r(),f(x,{key:s,cols:"12",sm:"6",md:"4",class:"d-flex"},{default:i(()=>[n(O,{class:"flex-grow-1"},{default:i(()=>[n(B,{modelValue:l,onImageClicked:k},null,8,["modelValue"]),n(S,null,{default:i(()=>[n(m,{icon:"mdi-content-copy",variant:"text",onClick:c=>I(s)},null,8,["onClick"]),n(m,{icon:"mdi-arrow-up",variant:"text",onClick:c=>h(s,-1),disabled:s===0},null,8,["onClick","disabled"]),n(m,{icon:"mdi-arrow-down",variant:"text",onClick:c=>h(s,1),disabled:s===e.value.length-1},null,8,["onClick","disabled"]),n(m,{icon:"mdi-delete",variant:"text",color:"error",onClick:c=>M(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),n(U,{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=l=>d.value=l),"max-width":"90vw","max-height":"90vh",scrollable:""},{default:i(()=>[t.value!==-1?(r(),f(H,{key:0,imageObj:e.value[t.value],canvasWidth:p(e.value[t.value]).width,canvasHeight:p(e.value[t.value]).height,onSave:P,onClose:o[0]||(o[0]=l=>d.value=!1)},null,8,["imageObj","canvasWidth","canvasHeight"])):A("",!0)]),_:1},8,["modelValue"])]),_:1}))}}),z=F(L,[["__scopeId","data-v-a562a572"]]);export{z as default};
